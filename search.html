<script>
const API_KEY = '77312bdd4669c80af3d08e0bf719d7ff';
const IMG_BASE = 'https://image.tmdb.org/t/p/w500';

const SERVERS = [
  {
    name: 'Apimocine (No Ads)',
    id: 'apimocine',
    url: (type, id) => `https://apimocine.vercel.app/${type}/${id}?autoplay=true`
  },
  {
    name: 'Vidsrc.to',
    id: 'vidsrc',
    url: (type, id) => `https://vidsrc.to/embed/${type}/${id}`
  },
  {
    name: 'Vidsrc.cc',
    id: 'vidsrccc',
    url: (type, id) => `https://vidsrc.cc/v2/embed/${type}/${id}`
  }
];

async function searchMovies(query) {
  const res = await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${API_KEY}&query=${encodeURIComponent(query)}`);
  const data = await res.json();
  const results = data.results;

  const container = document.getElementById('results');
  container.innerHTML = '';

  if (!results || results.length === 0) {
    container.innerHTML = '<p style="text-align:center;">No results found.</p>';
    return;
  }

  results.forEach(item => {
    if (item.media_type === 'person') return;
    const id = item.id;
    const type = item.media_type;
    const title = item.title || item.name;
    const poster = item.poster_path ? IMG_BASE + item.poster_path : '';

    const div = document.createElement('div');
    div.className = 'poster-wrapper';
    div.innerHTML = `
      <img src="${poster}" alt="${title}" style="cursor:pointer;" data-id="${id}" data-type="${type}" data-title="${title}" />
      <div class="poster-label">${title}</div>
    `;
    container.append
    
